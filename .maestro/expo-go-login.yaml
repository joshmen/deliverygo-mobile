appId: host.exp.exponent
---
# DeliveryGo Login Flow Test (Expo Go)

# Launch Expo Go
- launchApp:
    clearState: false

# Press back to dismiss any popup
- pressKey: back

# Tap on DeliveryGo project if on Expo Go home
- runFlow:
    when:
      visible: "DeliveryGo Express"
    commands:
      - tapOn: "DeliveryGo Express"

# Wait a moment for app to load
- swipe:
    direction: DOWN
    duration: 500

# Press back again to dismiss Samsung Pass if it appeared
- pressKey: back

# Now wait for Dashboard
- extendedWaitUntil:
    visible: "Orders Dashboard"
    timeout: 30000

# Logout flow
- tapOn: "Profile"
# Scroll down to find Logout button
- scrollUntilVisible:
    element: "Logout"
    direction: DOWN
    timeout: 10000
- tapOn: "Logout"
- extendedWaitUntil:
    visible: "LOGOUT"
    timeout: 5000
- tapOn: "LOGOUT"

# After logout, skip onboarding
- extendedWaitUntil:
    visible: "Skip"
    timeout: 15000
- tapOn: "Skip"

# Wait for login screen
- extendedWaitUntil:
    visible: "Sign In"
    timeout: 15000

# Test validation
- tapOn:
    id: "login-button"
- assertVisible: "Please enter both email and password"
- tapOn: "OK"

# Enter credentials
- tapOn:
    id: "email-input"
- inputText: "owner@demo-restaurant.com"
- tapOn:
    id: "password-input"
- inputText: "StoreOwner123!"

# Submit login
- tapOn:
    id: "login-button"

# Wait a moment for login to process
- swipe:
    direction: DOWN
    duration: 1000

# Press back to dismiss Samsung Pass popup
- pressKey: back

# Wait for Dashboard
- extendedWaitUntil:
    visible: "Orders Dashboard"
    timeout: 30000

# Verify tabs
- assertVisible: "Orders"
- assertVisible: "Settings"
- assertVisible: "Profile"
